import{r as t,h as s,g as e}from"./p-2eb42df6.js";import"./p-ac43efe8.js";import{i as o}from"./p-b420ba50.js";import"./p-7021fe2a.js";const n=class{constructor(s){t(this,s),this.routes={},this.redirectTo=""}componentWillLoad(){let t={},s=function(e){return e.forEach(e=>{if(e.children)s(e.children);else{let{path:s,component:o,componentProps:n}=e;t[s]={component:o,componentProps:n}}}),t};this.routes=s(this.pages)}locationChanged(t){if(this.currentRoute=t,"/"===this.currentRoute.pathname&&""===this.currentRoute.search)this.redirectTo=this.pages[0].path;else{let t=this.pages.map((t,s)=>"404"==t.name?s:null).filter(t=>null!==t)[0];this.redirectTo=t?this.pages[t].path:this.pages[0].path}}render(){let t=this.currentRoute.search;-1!==t.indexOf("&")&&(t=t.substring(0,t.indexOf("&")));let e=this.routes[t],o="psk-page-not-found",n={urlDestination:this.redirectTo};return e&&(o=e.component,n=e.componentProps),s("stencil-route",{component:o,componentProps:n})}get el(){return e(this)}static get watchers(){return{location:["locationChanged"]}}};o(n);export{n as query_pages_router};