import{r as e,h as t}from"./p-2eb42df6.js";import"./p-acb9d1e1.js";import"./p-7111d76e.js";import{T as r}from"./p-f3fbe684.js";import{B as o}from"./p-69d9d418.js";var n=function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};const s=class{constructor(t){e(this,t),this.errorLoadingPage=!1}componentWillLoad(){return new Promise(e=>{this.getPageContent(this.pageUrl,this.getPageHandler(e))})}watchHandler(e){this.getPageContent(e,this.getPageHandler())}getPageHandler(e){let t=this;return function(r,o){r?t.errorLoadingPage=!0:(t.errorLoadingPage=!1,t.pageContent=o),"function"==typeof e&&e()}}getPageContent(e,t){let r=new XMLHttpRequest;r.open("GET",e),r.onload=()=>{200!=r.status?t(new Error("Some error occurred")):t(null,r.responseText)},r.onerror=()=>{this.errorLoadingPage=!0},r.send()}render(){return this.errorLoadingPage?t("h4",null,`Page ${this.pageUrl} could not be loaded!`):t("div",{class:"page_content",innerHTML:this.pageContent})}static get watchers(){return{pageUrl:["watchHandler"]}}};n([o()],s.prototype,"pageContent",void 0),n([r({description:["This property is the url for the page that needs to be loaded.","When this component loads a get http request will be issued and the cotent of that url will be rendered if it can be accessed."],isMandatory:!0,propertyType:"string"})],s.prototype,"pageUrl",void 0);export{s as psk_page_loader};