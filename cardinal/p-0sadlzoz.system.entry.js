System.register(["./p-3369a689.system.js","./p-04722581.system.js","./p-894b1d93.system.js","./p-609d210d.system.js","./p-5514a11c.system.js"],(function(t){"use strict";var e,r,i,n,s,a,c;return{setters:[function(t){e=t.r;r=t.g;i=t.h},function(){},function(t){n=t.g;s=t.s},function(t){a=t.T},function(t){c=t.C}],execute:function(){var p=undefined&&undefined.__decorate||function(t,e,r,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(t,e,r,i);else for(var c=t.length-1;c>=0;c--)if(a=t[c])s=(n<3?a(s):n>3?a(e,r,s):a(e,r))||s;return n>3&&s&&Object.defineProperty(e,r,s),s};var o=t("psk_toc",function(){function t(t){e(this,t);this.activeChapter=null;this.chapterList=[];this.initialChapterSetupDone=false}t.prototype.connectedCallback=function(){this.pskPageElement=n(r(this),"psk-page")};t.prototype.tocReceived=function(t){if(t.detail){var e=t.detail,r=e.chapters,i=e.active;this.chapterList=this._sortChapters(r);this.activeChapter=i}};t.prototype._sortCurrentChapter=function(t,e){if(t.children.length===0){return t}var r=[];var i=function(i){var a=t.children.find((function(t){return t.guid===e[i]}));if(a){e.splice(i--,1);r.push(n._sortCurrentChapter(a,e))}s=i};var n=this,s;for(var a=0;a<e.length;++a){i(a);a=s}return Object.assign(Object.assign({},t),{children:r})};t.prototype._sortChapters=function(t){var e=this.pskPageElement.querySelectorAll("psk-chapter");var r=[];e.forEach((function(t){if(!(t.hasAttribute("data-define-props")||t.hasAttribute("data-define-controller")||t.hasAttribute("data-define-events"))&&t.hasAttribute("guid")){r.push(t.getAttribute("guid"))}}));var i=[];var n=function(e){var n=t.find((function(t){return t.guid===r[e]}));if(n){r.splice(e--,1);i.push(s._sortCurrentChapter(n,r))}a=e};var s=this,a;for(var c=0;c<r.length;++c){n(c);c=a}return i};t.prototype._renderChapters=function(t,e,r){var n=this;return e.map((function(e,a){var c=r===undefined?a+1+".":""+r+(a+1)+".";return i("li",{class:e.guid===n.activeChapter?"toc-item active":"toc-item",onClick:function(r){r.stopImmediatePropagation();r.preventDefault();s(e.title,t);n.activeChapter=e.guid}},i("span",{class:"chapter-index"},c),i("span",{class:"chapter-title"},e.title),e.children.length===0?null:i("ul",null,n._renderChapters(t,e.children,c)))}))};t.prototype.render=function(){if((!this.initialChapterSetupDone||!this.activeChapter)&&this.chapterList.length>0){this.activeChapter=this.chapterList[0].guid;this.initialChapterSetupDone=true}return i("div",{class:"table-of-content"},i("psk-card",{title:this.title},i("ul",null,this._renderChapters(this.pskPageElement,this.chapterList))))};return t}());p([c(),a({description:"This property is the title of the psk-card that will be created.",isMandatory:false,propertyType:"string"})],o.prototype,"title",void 0)}}}));