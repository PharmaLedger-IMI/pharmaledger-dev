System.register(["./p-3369a689.system.js"],(function(e){"use strict";var t,o,n,i;return{setters:[function(e){t=e.r;o=e.c;n=e.h;i=e.g}],execute:function(){var r=e("psk_ss_app",function(){function e(e){t(this,e);this.giveMeSeed=o(this,"giveMeSeed",7)}e.prototype.componentDidLoad=function(){var e=this;var t=this.element.querySelector("iframe");window.addEventListener("message",(function(o){if(o.data.appIdentity){if(o.data.appIdentity===e.digestSeedHex){t.contentWindow.postMessage({seed:e.seed},t.src)}o.stopImmediatePropagation()}if(o.data.status==="completed"){t.contentWindow.location.reload();o.stopImmediatePropagation()}}))};e.prototype.componentWillLoad=function(){var e=this;return new Promise((function(t){e.giveMeSeed.emit({appName:e.appName,callback:function(o,n){if(o){throw o}e.seed=n;e.digestSeedHex=e.digestMessage(n);t()}})}))};e.prototype.sendMessageToIframe=function(e,t){var o=function(t){$$.interactions.startSwarmAs(e,"echo","say",t).onReturn((function(e,t){if(!e){console.log("Iframe received: ",t);setTimeout((function(){}),1e4)}else{console.log(e)}}))};o(t)};e.prototype.digestMessage=function(e){var t=require("pskcrypto");var o=t.pskHash(e,"hex");return o};e.prototype.render=function(){var e=window.parent.location+"iframe/"+this.digestSeedHex;return n("iframe",{sandbox:"allow-scripts allow-same-origin allow-forms",frameborder:"0",style:{overflow:"hidden",height:"100%",width:"100%"},src:e})};Object.defineProperty(e.prototype,"element",{get:function(){return i(this)},enumerable:true,configurable:true});return e}())}}}));