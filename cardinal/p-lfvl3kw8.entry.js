import{r as t,h as s,g as o}from"./p-9835b40a.js";import"./p-667295bc.js";import{i as e}from"./p-7e730a2f.js";import"./p-7021fe2a.js";const n=class{constructor(s){t(this,s),this.routes={},this.redirectTo=""}componentWillLoad(){let t={},s=function(o){return o.forEach(o=>{if(o.children)s(o.children);else{let{path:s,component:e,componentProps:n}=o;t[s]={component:e,componentProps:n}}}),t};this.routes=s(this.pages)}locationChanged(t){if(this.currentRoute=t,"/"===this.currentRoute.pathname&&""===this.currentRoute.search)this.redirectTo=this.pages[0].path;else{let t=this.pages.map((t,s)=>"404"==t.name?s:null).filter(t=>null!==t)[0];this.redirectTo=t?this.pages[t].path:this.pages[0].path}}render(){let t=this.currentRoute.search;-1!==t.indexOf("&")&&(t=t.substring(0,t.indexOf("&")));let o=this.routes[t],e="psk-page-not-found",n={urlDestination:this.redirectTo};return o&&(e=o.component,n=o.componentProps),s("stencil-route",{component:e,componentProps:n})}get el(){return o(this)}static get watchers(){return{location:["locationChanged"]}}};e(n);export{n as query_pages_router};