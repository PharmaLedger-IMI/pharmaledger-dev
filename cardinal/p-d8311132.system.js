System.register(["./p-51da6f80.system.js","./p-fdcca78d.system.js"],(function(t){"use strict";var e,r,n,a,i;return{setters:[function(t){e=t.g},function(t){r=t.b;n=t.d;a=t.e;i=t.c}],execute:function(){t({B:v,_:u});function u(t,e){if(e.hasAttribute(r)){var a=e.getAttribute(r).trim();return typeof t.getChainValue(a)!=="undefined"}if(e.hasAttribute(n)){var i=e.getAttribute(n).split("|");if(i.length!==2){return false}var a=i[0].trim(),u=i[1].trim();return u===t.getChainValue(a)}return true}function l(t){var e=this;Object.keys(t).forEach((function(r){e[r]=t[r]}))}function o(t,r,n,i){var u=this;var l=e(u);var o=Array.from(l.attributes).filter((function(t){return t.name.startsWith(n)}));o.forEach((function(e){var i=a(e.name.split(n)[1]);var l=t?t+"."+e.value:e.value;u[i]=r.getChainValue(l)}));return i()}function s(t,r,n,i){var u=this;var l=e(u);var o=Array.from(l.attributes).filter((function(t){return t.value.startsWith(n)}));o.forEach((function(e){var i=e.value.split(n)[1];var l=t?t+"."+i:i;var o=a(e.name);if(r.hasExpression(l)){u[o]=r.evaluateExpression(l)}else{u[o]=r.getChainValue(l);r.onChange(l,(function(){u[o]=r.getChainValue(l)}))}}));return i()}function f(t,e){try{var r=this;if(r.rootModel){var n=t;if(r.parentChain){n=r.parentChain+"."+t}r.rootModel.setChainValue(n,e);return true}return false}catch(a){console.error(a)}return false}function c(t,r,n){if(t||!r){return n()}var a=this;var i=e(a);if(!u(r,i)){i.remove();return n()}var l,f,c;if(i.getAttribute("data-view-model")!==null&&i.tagName.toLowerCase()==="psk-for-each"){l=i.getAttribute("data-view-model");c=l;a.__assignProperties.call(a,{rootModel:r,parentChain:c});return n()}l=i.getAttribute("view-model");c=l;if(l===null){f=i.getAttribute("name")!==null&&!i.getAttribute("name").startsWith("@")?i.getAttribute("name"):null;if(f===null&&i.getAttribute("label")!==null&&!i.getAttribute("label").startsWith("@")){f=i.getAttribute("label").replace(/( |:|\/|\.|-)/g,"").toLowerCase()}c=f}if(!l&&!f){s.call(a,c,r,"@",n);o.call(a,c,r,"view-model-",n);return n()}function v(t,e){a[t]=r.getChainValue(e);r.onChange(e,(function(){a[t]=r.getChainValue(e)}))}function h(){var t=c+".value";var e=r.getChainValue(c);if(!e||r.getChainValue(t)){return n()}v("value",t)}a.__assignProperties.call(a,{rootModel:r,parentChain:c});if(l){var g=r.getChainValue(c);if(!g){return n()}Object.keys(g).forEach((function(t){var e=c+"."+t;v(t,e)}));h();return n()}return n()}function v(){return function(t){var r=t.componentWillLoad;t.componentWillLoad=function(){var t=this;var n=e(t);t["changeModel"]=f;t["__assignProperties"]=l;function a(e){function r(r,n){c.apply(t,[r,n,e])}i("getModelEvent",{bubbles:true,composed:true,cancellable:true,detail:{callback:r}},true,n)}if(!n.isConnected){return r&&r.call(t)}var u=n.getAttributeNames();var o=u.filter((function(t){if(t.toLowerCase()==="data-view-model"){return true}if(t.toLowerCase().includes("view-model")){return true}if(n.getAttribute(t).toLowerCase().startsWith("@")){return true}return false}));if(o.length===0){return r&&r.call(t)}return new Promise((function(e){var n=function(){e(r&&r.call(t))};a(n)}))}}}}}}));